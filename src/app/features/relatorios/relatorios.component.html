<div class="card">
  <h2 class="mb-4">Relatório de Vendas</h2>

  <div class="flex flex-wrap gap-3 mb-4 align-items-end">
    <div>
      <label class="block mb-1">De:</label>
      <p-calendar [(ngModel)]="filtros.dataInicio" dateFormat="dd/mm/yy" [showIcon]="true"></p-calendar>
    </div>
    <div>
      <label class="block mb-1">Até:</label>
      <p-calendar [(ngModel)]="filtros.dataFim" dateFormat="dd/mm/yy" [showIcon]="true"></p-calendar>
    </div>
    <p-button label="Filtrar" icon="pi pi-search" (onClick)="buscar()"></p-button>
  </div>

  <div *ngIf="dados" class="grid mb-4">
    <div class="col-12 md:col-4">
      <p-card styleClass="bg-blue-50">
        <div class="text-center">
          <div class="text-500 font-medium mb-2">Total Vendas</div>
          <div class="text-900 font-medium text-xl">{{dados.totalDeVendas}}</div>
        </div>
      </p-card>
    </div>
    <div class="col-12 md:col-4">
      <p-card styleClass="bg-green-50">
        <div class="text-center">
          <div class="text-500 font-medium mb-2">Valor Total</div>
          <div class="text-900 font-medium text-xl">{{dados.valorTotalVendido | currency:'BRL'}}</div>
        </div>
      </p-card>
    </div>
  </div>

  <p-table [value]="dados?.vendas" *ngIf="dados" [rows]="10" [paginator]="true">
    <ng-template pTemplate="header">
      <tr><th>Data</th><th>Vendedor</th><th>Valor</th></tr>
    </ng-template>
    <ng-template pTemplate="body" let-v>
      <tr>
        <td>{{v.dataHora | date:'dd/MM/yyyy HH:mm'}}</td>
        <td>{{v.nomeUsuarioResponsavel}}</td>
        <td>{{v.valorTotal | currency:'BRL'}}</td>
      </tr>
    </ng-template>
  </p-table>
</div>